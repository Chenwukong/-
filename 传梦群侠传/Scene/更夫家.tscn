[gd_scene load_steps=92 format=3 uid="uid://b7xk3s6iaunai"]

[ext_resource type="Shader" path="res://shader/turnWhite.gdshader" id="1_2j7nb"]
[ext_resource type="Script" path="res://Script/map.gd" id="2_ap3ve"]
[ext_resource type="Texture2D" uid="uid://c5o3cr8jd1kdf" path="res://panoramas2/袄来民居.jpg" id="3_bt4b0"]
[ext_resource type="Texture2D" uid="uid://d02w3tlo16yuk" path="res://panoramas2/袄来民居_2.png" id="4_nkbsb"]
[ext_resource type="Script" path="res://Script/mapCollider.gd" id="5_pvu88"]
[ext_resource type="PackedScene" uid="uid://b3dtk2snxdgij" path="res://Scene/player.tscn" id="6_s6lx6"]
[ext_resource type="PackedScene" uid="uid://dvh00u3eljhxv" path="res://Scene/reward.tscn" id="8_2ja5d"]
[ext_resource type="Texture2D" uid="uid://klncldkpxbst" path="res://梦魂Animation/circle.png" id="9_beewm"]
[ext_resource type="AudioStream" uid="uid://bwt1iemoxp8ai" path="res://Audio/SE/SWD 战斗开始.mp3" id="10_ethlt"]
[ext_resource type="Texture2D" uid="uid://dnmi653uf1d0y" path="res://Pictures/@《神迹》电影式对话.png" id="11_47fb7"]
[ext_resource type="PackedScene" uid="uid://csr2bo6lfee2s" path="res://Scene/teleport.tscn" id="12_gsrk1"]
[ext_resource type="AudioStream" uid="uid://7d6auv5upl7p" path="res://Audio/BGM/轩辕-鬼域.mp3" id="13_k54bw"]
[ext_resource type="PackedScene" uid="uid://ymede6kvxndj" path="res://Scene/npc.tscn" id="14_3pcbb"]
[ext_resource type="Texture2D" uid="uid://yddrmtw5hsgt" path="res://Characters/鬼将.png" id="24_uwfn0"]
[ext_resource type="Texture2D" uid="uid://cdw8nauxy5q1c" path="res://Characters/天麒.png" id="25_ctrmx"]
[ext_resource type="PackedScene" uid="uid://dr5ht7is51voy" path="res://Scene/小二.tscn" id="26_x4eoa"]
[ext_resource type="Texture2D" uid="uid://dq1dbwq01s8i2" path="res://Pictures/Pictures/0如花.JPG" id="27_yueoc"]
[ext_resource type="Texture2D" uid="uid://dsp7clle17vkc" path="res://Characters/卫兵.png" id="31_d5678"]
[ext_resource type="Texture2D" uid="uid://gniqeect40oq" path="res://Battlers/0狐美人.png" id="32_4jh0l"]
[ext_resource type="Texture2D" uid="uid://408asfro5ci7" path="res://Characters/铁匠-瘦.png" id="33_bnbbt"]
[ext_resource type="PackedScene" uid="uid://b426qjra4bj27" path="res://Scene/potentialBall.tscn" id="34_gwj51"]
[ext_resource type="PackedScene" uid="uid://cb88fi556u5i7" path="res://Scene/凌若昭.tscn" id="35_kwtlo"]
[ext_resource type="Texture2D" uid="uid://cclhnu6j21du5" path="res://Characters/道姑.png" id="36_qy3rm"]
[ext_resource type="PackedScene" uid="uid://5rdlt34b6d4g" path="res://Scene/menu.tscn" id="37_6td80"]
[ext_resource type="PackedScene" uid="uid://b7m0e2bvanxoi" path="res://canvas_layer.tscn" id="38_mherc"]
[ext_resource type="Shader" path="res://shader/player.gdshader" id="39_uuvkm"]
[ext_resource type="PackedScene" uid="uid://dd1lhpctw2jww" path="res://Scene/姜韵.tscn" id="40_rgso6"]
[ext_resource type="Texture2D" uid="uid://24kb73ew6sxm" path="res://Characters/店小二.png" id="41_134ou"]
[ext_resource type="Texture2D" uid="uid://vlojij7vqbpm" path="res://Characters/云燕儿.png" id="42_nkbdp"]
[ext_resource type="PackedScene" uid="uid://cxdsjwmums1gs" path="res://Scene/shop.tscn" id="43_ashof"]
[ext_resource type="Texture2D" uid="uid://bx181d3b4srhs" path="res://light.png" id="46_6bycr"]
[ext_resource type="Texture2D" uid="uid://cixntcrqo8geh" path="res://Characters/驿站兵.png" id="47_6j67n"]
[ext_resource type="Texture2D" uid="uid://bse6f14vwe8ji" path="res://Characters/妇女.png" id="48_0bhm7"]
[ext_resource type="Texture2D" uid="uid://b1ngu8a173pqm" path="res://Characters/野鬼.png" id="49_w25uv"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_nrdq2"]
shader = ExtResource("1_2j7nb")
shader_parameter/radius = 0.0
shader_parameter/center = null

[sub_resource type="NavigationPolygon" id="NavigationPolygon_su7y6"]
vertices = PackedVector2Array(-2, 1326, -5, 86, 4320, 88, 4325, 2336, 3, 2344, -2, 1526)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4), PackedInt32Array(0, 4, 5)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-5, 86, -2, 1326, -2, 1526, 3, 2344, 4325, 2336, 4320, 88)])

[sub_resource type="Gradient" id="Gradient_cuie8"]

[sub_resource type="GradientTexture2D" id="GradientTexture2D_4br6b"]
gradient = SubResource("Gradient_cuie8")
fill = 1
fill_from = Vector2(1, 0.612536)

[sub_resource type="Animation" id="Animation_o8nmx"]
length = 0.001

[sub_resource type="Animation" id="Animation_j5yt2"]
resource_name = "turnDark"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CanvasModulate:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 1.5, 2),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(0, 0, 0, 1), Color(0, 0, 0, 1), Color(0, 0, 0, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("建业左:self_modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(0.290196, 0.290196, 0.290196, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("PointLight2D11:energy")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 1.5, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [0.0, 0.0, 1.2]
}

[sub_resource type="Animation" id="Animation_5d8hn"]
resource_name = "城主走开"
length = 5.0

[sub_resource type="AnimationLibrary" id="AnimationLibrary_tex1a"]
_data = {
"RESET": SubResource("Animation_o8nmx"),
"turnDark": SubResource("Animation_j5yt2"),
"城主走开": SubResource("Animation_5d8hn")
}

[sub_resource type="AtlasTexture" id="AtlasTexture_6vmln"]
atlas = ExtResource("24_uwfn0")
region = Rect2(0, 350, 229, 175)

[sub_resource type="SpriteFrames" id="SpriteFrames_at1r2"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_6vmln")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_fic54"]
atlas = ExtResource("25_ctrmx")
region = Rect2(0, 234, 82, 117)

[sub_resource type="SpriteFrames" id="SpriteFrames_iqlw3"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_fic54")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_xvqbk"]
atlas = ExtResource("32_4jh0l")
region = Rect2(60, 0, 60, 89)

[sub_resource type="SpriteFrames" id="SpriteFrames_wrtsn"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_xvqbk")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_bkod6"]
atlas = ExtResource("33_bnbbt")
region = Rect2(0, 89, 66, 89)

[sub_resource type="SpriteFrames" id="SpriteFrames_5o4tr"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_bkod6")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_x2ju2"]
atlas = ExtResource("36_qy3rm")
region = Rect2(0, 0, 49, 82)

[sub_resource type="SpriteFrames" id="SpriteFrames_1pnvr"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_x2ju2")
}],
"loop": false,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_sryee"]
shader = ExtResource("39_uuvkm")
shader_parameter/blood_color = Color(0.5, 0, 0, 1)
shader_parameter/speed = 0.5
shader_parameter/scale = 1.0
shader_parameter/particle_count = 50
shader_parameter/fade_edge = 0.1
shader_parameter/center_density = 0.5

[sub_resource type="AtlasTexture" id="AtlasTexture_cydmx"]
atlas = ExtResource("31_d5678")
region = Rect2(232, 0, 116, 103)

[sub_resource type="SpriteFrames" id="SpriteFrames_ir8he"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_cydmx")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_df2y7"]
atlas = ExtResource("31_d5678")
region = Rect2(0, 309, 116, 103)

[sub_resource type="SpriteFrames" id="SpriteFrames_y1ba5"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_df2y7")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_q6c80"]
atlas = ExtResource("41_134ou")
region = Rect2(0, 0, 38, 83)

[sub_resource type="SpriteFrames" id="SpriteFrames_1h5l5"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_q6c80")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_r015f"]
atlas = ExtResource("42_nkbdp")
region = Rect2(0, 0, 68, 100)

[sub_resource type="SpriteFrames" id="SpriteFrames_a7bgs"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_r015f")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="Animation" id="Animation_p7s2l"]
length = 0.001

[sub_resource type="Animation" id="Animation_5hb8a"]
resource_name = "turnDark"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CanvasModulate:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(0, 0, 0, 1), Color(0, 0, 0, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("建业左:self_modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(0.290196, 0.290196, 0.290196, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("PointLight2D11:energy")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 1.5, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [0.0, 0.0, 1.2]
}

[sub_resource type="Animation" id="Animation_sgym2"]
resource_name = "鬼来"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("野鬼/AnimatedSprite2D11:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(2808, 950), Vector2(2490, 1139)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("野鬼/AnimatedSprite2D10:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 2.6),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(2677, 872), Vector2(2482, 986)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("野鬼/AnimatedSprite2D9:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(2594, 777), Vector2(2372, 963)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("野鬼/AnimatedSprite2D5:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 2.9),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(1754.15, 712.841), Vector2(2030, 1041)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("野鬼/AnimatedSprite2D6:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 2.9),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(1883, 677), Vector2(2112, 974)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("野鬼/AnimatedSprite2D7:position")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0, 2.8),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(2018, 658), Vector2(2211, 950)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("野鬼/AnimatedSprite2D15:position")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0, 3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(1793, 1524), Vector2(2126, 1265)]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("野鬼/AnimatedSprite2D13:position")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0, 3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(1624, 1494), Vector2(2039, 1197)]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("野鬼/AnimatedSprite2D14:position")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(0, 3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(1596, 1308), Vector2(1967, 1132)]
}

[sub_resource type="Animation" id="Animation_6d12s"]
resource_name = "尸体出现"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("更夫尸体:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_f2urt"]
resource_name = "turnDark2"
length = 3.0

[sub_resource type="AnimationLibrary" id="AnimationLibrary_avkso"]
_data = {
"RESET": SubResource("Animation_p7s2l"),
"turnDark": SubResource("Animation_5hb8a"),
"turnDark2": SubResource("Animation_f2urt"),
"尸体出现": SubResource("Animation_6d12s"),
"鬼来": SubResource("Animation_sgym2")
}

[sub_resource type="AtlasTexture" id="AtlasTexture_na61u"]
atlas = ExtResource("47_6j67n")
region = Rect2(0, 285, 58, 95)

[sub_resource type="SpriteFrames" id="SpriteFrames_ssgyj"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_na61u")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_ywvs5"]
atlas = ExtResource("48_0bhm7")
region = Rect2(0, 168, 50, 84)

[sub_resource type="SpriteFrames" id="SpriteFrames_2j5ou"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ywvs5")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_njxlo"]
atlas = ExtResource("47_6j67n")
region = Rect2(0, 190, 58, 95)

[sub_resource type="AtlasTexture" id="AtlasTexture_qkgba"]
atlas = ExtResource("47_6j67n")
region = Rect2(0, 0, 58, 95)

[sub_resource type="SpriteFrames" id="SpriteFrames_bbdss"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_njxlo")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_qkgba")
}],
"loop": true,
"name": &"右下",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_lufww"]
atlas = ExtResource("47_6j67n")
region = Rect2(0, 95, 58, 95)

[sub_resource type="SpriteFrames" id="SpriteFrames_l63op"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_lufww")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_yj0a5"]
atlas = ExtResource("49_w25uv")
region = Rect2(0, 0, 106, 86)

[sub_resource type="AtlasTexture" id="AtlasTexture_chkpn"]
atlas = ExtResource("49_w25uv")
region = Rect2(106, 0, 106, 86)

[sub_resource type="AtlasTexture" id="AtlasTexture_v57uu"]
atlas = ExtResource("49_w25uv")
region = Rect2(212, 0, 106, 86)

[sub_resource type="AtlasTexture" id="AtlasTexture_wqd7b"]
atlas = ExtResource("49_w25uv")
region = Rect2(318, 0, 106, 86)

[sub_resource type="SpriteFrames" id="SpriteFrames_tm7k8"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_yj0a5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_chkpn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v57uu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wqd7b")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_c80a0"]
atlas = ExtResource("49_w25uv")
region = Rect2(0, 108, 106, 108)

[sub_resource type="AtlasTexture" id="AtlasTexture_m64mq"]
atlas = ExtResource("49_w25uv")
region = Rect2(106, 108, 106, 108)

[sub_resource type="AtlasTexture" id="AtlasTexture_iuuo5"]
atlas = ExtResource("49_w25uv")
region = Rect2(212, 108, 106, 108)

[sub_resource type="AtlasTexture" id="AtlasTexture_j30uy"]
atlas = ExtResource("49_w25uv")
region = Rect2(318, 108, 106, 108)

[sub_resource type="SpriteFrames" id="SpriteFrames_yyr0v"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_c80a0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_m64mq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_iuuo5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_j30uy")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_0idy3"]
atlas = ExtResource("49_w25uv")
region = Rect2(0, 216, 106, 108)

[sub_resource type="AtlasTexture" id="AtlasTexture_41vr7"]
atlas = ExtResource("49_w25uv")
region = Rect2(106, 216, 106, 108)

[sub_resource type="AtlasTexture" id="AtlasTexture_k20b4"]
atlas = ExtResource("49_w25uv")
region = Rect2(212, 216, 106, 108)

[sub_resource type="AtlasTexture" id="AtlasTexture_cnf4w"]
atlas = ExtResource("49_w25uv")
region = Rect2(318, 216, 106, 108)

[sub_resource type="SpriteFrames" id="SpriteFrames_qi4y4"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0idy3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_41vr7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k20b4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cnf4w")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[node name="更夫家" type="Node2D"]
material = SubResource("ShaderMaterial_nrdq2")
script = ExtResource("2_ap3ve")

[node name="建业左" type="Sprite2D" parent="."]
modulate = Color(0.258824, 0.258824, 0.258824, 1)
position = Vector2(4318, 1208)
texture = ExtResource("3_bt4b0")
offset = Vector2(-2153, -82)

[node name="shadow" type="Sprite2D" parent="."]
modulate = Color(0.286275, 0.286275, 0.286275, 1)
z_index = 2
position = Vector2(2165, 1126)
texture = ExtResource("4_nkbsb")

[node name="StaticBody2D" type="StaticBody2D" parent="."]
light_mask = 2
visibility_layer = 2
position = Vector2(1480, 393)
script = ExtResource("5_pvu88")

[node name="player" parent="." instance=ExtResource("6_s6lx6")]
visible = false
z_index = 1
position = Vector2(2237, 1168)
scale = Vector2(0.903555, 0.940031)
metadata/_edit_group_ = true

[node name="AnimatedSprite2D" parent="player" index="1"]
animation = &"up"

[node name="Camera2D" parent="player" index="3"]
zoom = Vector2(1.5, 1.5)

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="player"]

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
position = Vector2(1301, 873)
volume_db = 4.414
max_distance = 1e+07
metadata/_edit_group_ = true

[node name="enterFightCd" type="Timer" parent="."]
one_shot = true

[node name="canFullTimer" type="Timer" parent="."]
wait_time = 0.5

[node name="subSound" type="AudioStreamPlayer2D" parent="."]
volume_db = 7.0
max_distance = 10000.0

[node name="BattleReward" parent="." instance=ExtResource("8_2ja5d")]

[node name="battleRewardGone" type="Timer" parent="."]
wait_time = 2.0
one_shot = true

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
visible = false
position = Vector2(5, -82)
navigation_polygon = SubResource("NavigationPolygon_su7y6")
constrain_avoidance = true

[node name="Circle" type="Sprite2D" parent="."]
visible = false
position = Vector2(332.128, 1271.12)
scale = Vector2(0.0631201, 0.0198038)
texture = ExtResource("9_beewm")

[node name="circleTimer" type="Timer" parent="."]
wait_time = 0.6
one_shot = true

[node name="enterFightSound" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("10_ethlt")
volume_db = 6.0
max_distance = 100000.0

[node name="position" type="Control" parent="."]
visible = false
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="PointLight2D" type="PointLight2D" parent="."]
visible = false
position = Vector2(1710, 2018)
energy = 1.24
texture = SubResource("GradientTexture2D_4br6b")
texture_scale = 2.89

[node name="canPress" type="Timer" parent="."]
wait_time = 0.2
one_shot = true

[node name="Timer" type="Timer" parent="."]
wait_time = 10.0
one_shot = true
autostart = true

[node name="CanvasLayer2" type="CanvasLayer" parent="."]
visible = false

[node name="blackSide" type="TextureRect" parent="CanvasLayer2"]
offset_right = 1152.0
offset_bottom = 804.0
texture = ExtResource("11_47fb7")

[node name="teleportCircle2" parent="." instance=ExtResource("12_gsrk1")]
position = Vector2(206, 201)
toScene = "大唐官府"

[node name="teleportCircle3" parent="." instance=ExtResource("12_gsrk1")]
position = Vector2(155, 1262)
toScene = "长安镖局"

[node name="addChild" type="Timer" parent="."]
wait_time = 0.2
one_shot = true

[node name="MarkerLeft" type="Marker2D" parent="."]
position = Vector2(1727, 849)
rotation = 0.000147976

[node name="MarkerRight" type="Marker2D" parent="."]
position = Vector2(2603, 1400)

[node name="nightBgm" type="AudioStreamPlayer2D" parent="."]
position = Vector2(1922, 1097)
stream = ExtResource("13_k54bw")
volume_db = -80.0
max_distance = 1e+06

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="."]
visible = false
color = Color(0.168627, 0.168627, 0.168627, 1)
energy = 5.0
blend_mode = 1

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_tex1a")
}

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(603, 488)

[node name="addNumTimer" type="Timer" parent="."]
wait_time = 0.1

[node name="teleportCircle4" parent="." instance=ExtResource("12_gsrk1")]
position = Vector2(1672, 1936)
toScene = "回春堂"

[node name="teleportCircle5" parent="." instance=ExtResource("12_gsrk1")]
position = Vector2(3947, 1189)
toScene = "金甲家"

[node name="AnimatedSprite2D" parent="." instance=ExtResource("12_gsrk1")]
position = Vector2(3126, 880)
toScene = "长安酒店"

[node name="teleportCircle6" parent="." instance=ExtResource("12_gsrk1")]
position = Vector2(124, 1942)
toScene = "大唐国境"

[node name="teleportCircle7" parent="." instance=ExtResource("12_gsrk1")]
position = Vector2(1457, 41)
toScene = "长安北"

[node name="金甲" parent="." instance=ExtResource("14_3pcbb")]
visible = false
position = Vector2(3886, 1943)
sprite_frames = SubResource("SpriteFrames_at1r2")
npcName = "金甲"

[node name="Camera2D2" type="Camera2D" parent="."]
position = Vector2(3750, 1849)

[node name="battleBgm" type="AudioStreamPlayer" parent="."]
volume_db = 2.0

[node name="时追云" parent="." instance=ExtResource("14_3pcbb")]
visible = false
position = Vector2(3798, 1896)
sprite_frames = SubResource("SpriteFrames_iqlw3")

[node name="小二" parent="." instance=ExtResource("26_x4eoa")]
visible = false
position = Vector2(3975, 1967)

[node name="小二" parent="小二" index="0"]
autoplay = "右上"

[node name="effect" parent="小二/小二" index="2"]
frame_progress = 0.0

[node name="飞剑诀" parent="小二/小二/effects" index="4"]
frame = 4

[node name="如花" type="CanvasLayer" parent="."]
visible = false

[node name="TextureRect" type="TextureRect" parent="如花"]
offset_right = 1355.0
offset_bottom = 917.0
texture = ExtResource("27_yueoc")

[node name="小二2" parent="." instance=ExtResource("26_x4eoa")]
visible = false
position = Vector2(1478, 894)

[node name="小二" parent="小二2" index="0"]
animation = &"右下"
autoplay = "右下"

[node name="effect" parent="小二2/小二" index="2"]
frame_progress = 0.0

[node name="飞剑诀" parent="小二2/小二/effects" index="4"]
frame = 4

[node name="周周" parent="." instance=ExtResource("14_3pcbb")]
position = Vector2(1841, 2553)
sprite_frames = SubResource("SpriteFrames_wrtsn")
itemSale = ["羊角盔", "珍珠头带", "锁子甲", "天香披肩", "神行靴", "五色飞石"]
npcName = "周周"

[node name="Camera2D3" type="Camera2D" parent="."]
position = Vector2(1750, 1030)

[node name="铁匠" parent="." instance=ExtResource("14_3pcbb")]
position = Vector2(4060, 1285)
rotation = 0.000844833
sprite_frames = SubResource("SpriteFrames_5o4tr")
itemSale = ["黄金剑", "赤铁双剑", "长叶子的木头"]
npcName = "铁匠"

[node name="potentialBall" parent="." instance=ExtResource("34_gwj51")]
position = Vector2(-1563, 412)

[node name="乞丐" parent="." instance=ExtResource("14_3pcbb")]
position = Vector2(114, 1916)

[node name="CollisionPolygon2D" parent="乞丐/npcBody" index="1"]
polygon = PackedVector2Array(-270, -284, -293, -282, -319, -243, -300, -192, -282, -191, -262, -192, -242, -199, -210, -204, -198, -240, -204, -254, -224, -281, -238, -289, -258, -282, -266, -280)

[node name="effect" parent="乞丐" index="2"]
frame_progress = 0.0

[node name="斩击" parent="乞丐/effects" index="3"]
frame = 0
frame_progress = 0.0

[node name="飞剑诀" parent="乞丐/effects" index="4"]
frame = 4

[node name="凌若昭" parent="." instance=ExtResource("35_kwtlo")]
position = Vector2(4497, 414)
frame_progress = 0.798339
npcName = "凌若昭"

[node name="凌若昭2" parent="." instance=ExtResource("35_kwtlo")]
position = Vector2(5097, 917)
frame_progress = 0.798339
npcName = "凌若昭2"

[node name="oneTimeSound" type="AudioStreamPlayer" parent="."]
volume_db = 4.552

[node name="提毗" parent="." instance=ExtResource("14_3pcbb")]
position = Vector2(953, 738)
sprite_frames = SubResource("SpriteFrames_1pnvr")
npcName = "提毗"

[node name="menuControl" parent="." instance=ExtResource("37_6td80")]

[node name="CanvasLayer" parent="." instance=ExtResource("38_mherc")]

[node name="ColorRect" type="ColorRect" parent="."]
visible = false
z_index = 100
material = SubResource("ShaderMaterial_sryee")
offset_left = -34.0
offset_top = 2.0
offset_right = 4328.0
offset_bottom = 2245.0

[node name="大唐" parent="." instance=ExtResource("14_3pcbb")]
position = Vector2(385.632, 215.52)
sprite_frames = SubResource("SpriteFrames_ir8he")

[node name="大唐2" parent="." instance=ExtResource("14_3pcbb")]
position = Vector2(169, 310)
sprite_frames = SubResource("SpriteFrames_ir8he")

[node name="大唐3" parent="." instance=ExtResource("14_3pcbb")]
position = Vector2(1281, 32)
sprite_frames = SubResource("SpriteFrames_ir8he")

[node name="大唐4" parent="." instance=ExtResource("14_3pcbb")]
position = Vector2(69, 1743)
sprite_frames = SubResource("SpriteFrames_ir8he")

[node name="大唐5" parent="." instance=ExtResource("14_3pcbb")]
position = Vector2(356, 1937)
sprite_frames = SubResource("SpriteFrames_y1ba5")

[node name="battleFieldLayer" type="CanvasLayer" parent="."]

[node name="姜韵" parent="." instance=ExtResource("40_rgso6")]
visible = false
position = Vector2(1891, 1036)
animation = &"default"

[node name="店小二" type="AnimatedSprite2D" parent="."]
visible = false
position = Vector2(1907, 1028)
sprite_frames = SubResource("SpriteFrames_1h5l5")

[node name="AnimatedSprite2D2" type="AnimatedSprite2D" parent="."]
visible = false
position = Vector2(1858, 1043)
sprite_frames = SubResource("SpriteFrames_a7bgs")

[node name="shop" parent="." instance=ExtResource("43_ashof")]

[node name="PointLight2D11" type="PointLight2D" parent="."]
position = Vector2(3041, 1198)
scale = Vector2(0.69005, 0.570204)
energy = 0.0
texture = ExtResource("46_6bycr")

[node name="CanvasModulate" type="CanvasModulate" parent="."]

[node name="AnimationPlayer2" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_avkso")
}

[node name="npc2" parent="." instance=ExtResource("14_3pcbb")]
position = Vector2(3117, 1313)
sprite_frames = SubResource("SpriteFrames_ssgyj")

[node name="AnimatedSprite2D3" type="AnimatedSprite2D" parent="."]
position = Vector2(2296.78, 1071.11)
rotation = -1.04302
sprite_frames = SubResource("SpriteFrames_2j5ou")

[node name="更夫" type="AnimatedSprite2D" parent="."]
position = Vector2(2223.91, 1149.07)
sprite_frames = SubResource("SpriteFrames_bbdss")
animation = &"右下"

[node name="更夫尸体" type="AnimatedSprite2D" parent="."]
modulate = Color(1, 1, 1, 0)
position = Vector2(2324, 1048)
rotation = -0.921241
sprite_frames = SubResource("SpriteFrames_l63op")

[node name="姜韵2" parent="." instance=ExtResource("40_rgso6")]
visible = false
self_modulate = Color(1, 1, 1, 0.639216)
position = Vector2(2301, 1203)
animation = &"left"
autoplay = "left"

[node name="野鬼" type="Node2D" parent="."]

[node name="AnimatedSprite2D5" type="AnimatedSprite2D" parent="野鬼"]
position = Vector2(1754.15, 712.841)
sprite_frames = SubResource("SpriteFrames_tm7k8")
autoplay = "default"
frame_progress = 0.952995

[node name="AnimatedSprite2D6" type="AnimatedSprite2D" parent="野鬼"]
position = Vector2(1883, 677)
sprite_frames = SubResource("SpriteFrames_tm7k8")
autoplay = "default"
frame_progress = 0.464662

[node name="AnimatedSprite2D7" type="AnimatedSprite2D" parent="野鬼"]
position = Vector2(2018, 658)
sprite_frames = SubResource("SpriteFrames_tm7k8")
autoplay = "default"
frame_progress = 0.464662

[node name="AnimatedSprite2D8" type="AnimatedSprite2D" parent="野鬼"]
position = Vector2(2594, 777)
sprite_frames = SubResource("SpriteFrames_yyr0v")
autoplay = "default"

[node name="AnimatedSprite2D9" type="AnimatedSprite2D" parent="野鬼"]
position = Vector2(2594, 777)
sprite_frames = SubResource("SpriteFrames_yyr0v")
autoplay = "default"

[node name="AnimatedSprite2D10" type="AnimatedSprite2D" parent="野鬼"]
position = Vector2(2677, 872)
sprite_frames = SubResource("SpriteFrames_yyr0v")
autoplay = "default"

[node name="AnimatedSprite2D11" type="AnimatedSprite2D" parent="野鬼"]
position = Vector2(2808, 950)
sprite_frames = SubResource("SpriteFrames_yyr0v")
autoplay = "default"

[node name="AnimatedSprite2D12" type="AnimatedSprite2D" parent="野鬼"]
position = Vector2(1624, 1494)
sprite_frames = SubResource("SpriteFrames_qi4y4")
autoplay = "default"

[node name="AnimatedSprite2D13" type="AnimatedSprite2D" parent="野鬼"]
position = Vector2(1624, 1494)
sprite_frames = SubResource("SpriteFrames_qi4y4")
autoplay = "default"

[node name="AnimatedSprite2D14" type="AnimatedSprite2D" parent="野鬼"]
position = Vector2(1596, 1308)
sprite_frames = SubResource("SpriteFrames_qi4y4")
autoplay = "default"

[node name="AnimatedSprite2D15" type="AnimatedSprite2D" parent="野鬼"]
position = Vector2(1793, 1524)
sprite_frames = SubResource("SpriteFrames_qi4y4")
autoplay = "default"

[connection signal="input_event" from="StaticBody2D" to="player" method="_on_static_body_2d_input_event" flags=18]
[connection signal="mouse_entered" from="StaticBody2D" to="StaticBody2D" method="_on_mouse_entered" flags=18]
[connection signal="mouse_entered" from="StaticBody2D" to="player" method="_on_static_body_2d_mouse_entered" flags=18]
[connection signal="mouse_shape_entered" from="StaticBody2D" to="StaticBody2D" method="_on_mouse_shape_entered" flags=18]
[connection signal="timeout" from="enterFightCd" to="." method="_on_enter_fight_cd_timeout" flags=18]
[connection signal="timeout" from="canFullTimer" to="." method="_on_can_full_timer_timeout" flags=18]
[connection signal="timeout" from="battleRewardGone" to="." method="_on_battle_reward_gone_timeout" flags=18]
[connection signal="timeout" from="circleTimer" to="." method="_on_circle_timer_timeout" flags=18]
[connection signal="timeout" from="canPress" to="." method="_on_can_press_timeout" flags=18]
[connection signal="timeout" from="Timer" to="player" method="_on_timer_timeout" flags=18]
[connection signal="timeout" from="addNumTimer" to="." method="_on_add_num_timer_timeout" flags=18]

[editable path="player"]
[editable path="小二"]
[editable path="小二/小二"]
[editable path="小二2"]
[editable path="小二2/小二"]
[editable path="乞丐"]
[editable path="shop"]
